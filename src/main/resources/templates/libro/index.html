<!DOCTYPE html>
<html xmlns="http://www.thymeleaf.com/">
	<head>
		<title></title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="static/vendor/bootstrap/4.5.2/css/bootstrap.min.css" th:href="@{/vendor/bootstrap/4.5.2/css/bootstrap.min.css}">
		<link rel="stylesheet" href="static/vendor/bootstrap-select/bootstrap-select.1.0.0.min.css" th:href="@{/vendor/bootstrap-select/bootstrap-select.1.0.0.min.css}">
		<link rel="stylesheet" href="static/vendor/data-tables/css/jquery.dataTables.min.css" th:href="@{/vendor/data-tables/css/jquery.dataTables.min.css}">
		<link rel="stylesheet" href="static/css/spring.css" th:href="@{/css/spring.css}">
		<script src="static/vendor/jquery/3.5.1/jquery.min.js" th:src="@{/vendor/jquery/3.5.1/jquery.min.js}"></script>
		<script src="static/vendor/popper.js/1.16.0/umd/popper.min.js" th:src="@{/vendor/popper.js/1.16.0/umd/popper.min.js}"></script>
		<script src="static/vendor/bootstrap/4.5.2/js/bootstrap.min.js" th:src="@{/vendor/bootstrap/4.5.2/js/bootstrap.min.js}"></script>
		<script src="static/vendor/bootstrap-select/bootstrap-select-1.0.0.min.js" th:src="@{/vendor/bootstrap-select/bootstrap-select-1.0.0.min.js}"></script>
		<script src="static/vendor/data-tables/js/jquery.dataTables.min.js" th:src="@{/vendor/data-tables/js/jquery.dataTables.min.js}"></script>
	</head>
	<body>
		<div th:replace="~{fragments/menu_admin :: uAdmin}"></div>
		<div class="container">
			<h3 class="text-center">LISTA DE LIBROS</h3>
			<a href="/admin/libro/form" th:href="@{/admin/libro/form}" class="btn btn-success float-right" role="button">Agregar</a>
			<br>
			<br>
			<table class="table table-striped table-hover" id="libros">
				<thead>
					<tr  class="thead-dark">
						<th>Nombre</th>
						<th>Editorial</th>
						<th>Genero</th>
						<th>Fecha</th>
						<th>Autores</th>
						<th class="text-center">Acciones</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="libro ,it : ${libros}">
						<td th:text=${libro.nombre}></td>
						<td th:text=${libro.editorial}></td>
						<td th:text=${libro.genero}></td>
						<td th:text=${libro.fecha}></td>
						<td>
							<ul>
								<li th:each="autor ,it : ${libro.autores}" th:text="${autor.nombre + ' ' + autor.apellidos}"></li>
							</ul>							
						</td>
						<td class="text-center">
							<div class="btn-group btn-group-sm">
								<a th:href="@{'/admin/libro/form/'+${libro.id}}" role="button" class="btn btn-warning">Edit</a>
								<a th:href="@{'/admin/libro/form/'+${libro.id}}" role="button" class="btn btn-danger">Delete</a>
							</div>
						</td>
					</tr>
				</tbody>
				<tfoot>
				<tr class="thead-dark">
					<th>Nombre</th>
					<th>Editorial</th>
					<th>Genero</th>
					<th>Fecha</th>
						<th>Autores</th>
					<th class="text-center">Acciones</th>
				</tr>
				</tfoot>
			</table>
		</div>
	</div>
	<div th:replace="~{fragments/footer :: footer}"></div>
	<script>
		$(document).ready(function() {
			$('#libros').DataTable({
				lengthMenu: [10, 20, 50],
				language: {
					decimal: "",
					emptyTable: "No hay información",
					info: "Mostrando _START_ a _END_ de _TOTAL_ registros",
					infoEmpty: "Mostrando 0 to 0 of 0 registros",
					infoFiltered: "(Filtrado de _MAX_ total registros)",
					infoPostFix: "",
					lengthMenu: "Mostrar _MENU_ registros",
					loadingRecords: "Cargando...",
					processing: "Procesando...",
					search: "Buscar:",
					thousands: ",",
					zeroRecords: "No se han encontrado resultados",
					paginate: {
						first: "Primero",
						last: "Último",
						next: "Siguiente",
						previous: "Anterior"
					}
				}
			});
		});
	</script>
</body>
</html>